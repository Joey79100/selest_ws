{
	"info": {
		"name": "selest_ws",
		"_postman_id": "085fd01a-2dde-bc3d-2f81-dc8d802e2af3",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Récupérer les catégories",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "token",
						"value": "cab91d5034b1fea7307dbd2ae795e21b1356755372693407adff1b87bc6de7d995c647fe5078650c39c36a60920ed5ebfa1bf2f50534210b4c7abdbda3f6e1be"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_categories.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_categories.php"
					]
				},
				"description": "Retourne toutes les catégories avec le nombre d'offres et le nombre de demandes actives (non réalisées) pour chacune d'elles"
			},
			"response": []
		},
		{
			"name": "Récupérer les demandes",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_prestations_categorie.php?type=demande",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_prestations_categorie.php"
					],
					"query": [
						{
							"key": "type",
							"value": "demande",
							"equals": true
						}
					]
				},
				"description": "Retourne toutes les demandes"
			},
			"response": []
		},
		{
			"name": "Récupérer les offres",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "token",
						"value": "5a4147339aea1dab240546d3f4f774d4420603e7f6e58058e6027f697364160d"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_prestations_categorie.php?type=offres",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_prestations_categorie.php"
					],
					"query": [
						{
							"key": "type",
							"value": "offres",
							"equals": true
						}
					]
				},
				"description": "Retourne toutes les offres"
			},
			"response": []
		},
		{
			"name": "Récupérer adhérent",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "token",
						"value": "4721b8a4ef86609d62274e71a861e50f66ebc4a12f6be4a41f0d6eac817e507"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_adherent.php?adh_id=1",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_adherent.php"
					],
					"query": [
						{
							"key": "adh_id",
							"value": "1",
							"equals": true
						}
					]
				},
				"description": "Retourne les informations de l'adhérent d'ID 1"
			},
			"response": []
		},
		{
			"name": "Récupérer conversation",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_conversation.php?id_emetteur=3&id_destinataire=2",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_conversation.php"
					],
					"query": [
						{
							"key": "id_emetteur",
							"value": "3",
							"equals": true
						},
						{
							"key": "id_destinataire",
							"value": "2",
							"equals": true
						}
					]
				},
				"description": "Retourne toutes les offres"
			},
			"response": []
		},
		{
			"name": "Ajouter adhérent",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "token",
						"value": "80aee8ffa2ef23bf1ec5342db63636bef87fbed23a24c09899f7351d043d13b67d3fb96584d93ad09afc8baebd8d1b170ed4e626e7769623d9b882518c9b03b8"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "adh_nom",
							"value": "Holiday",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_prenom",
							"value": "John",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_telephone",
							"value": "0501020304",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_mobile",
							"value": "0601020304",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_email",
							"value": "jean.mich@wanttodo.fr",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_adresse",
							"value": "1 route du feu rouge",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_code_postal",
							"value": "12345",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_ville",
							"value": "En poudre",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/add_adherent.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"add_adherent.php"
					]
				},
				"description": "Ajoute un adhérent Johnny Haliday"
			},
			"response": []
		},
		{
			"name": "Ajouter catégorie",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "token",
						"value": "c380442cb1761109e86c35060cb44880a0b7dcf4cbcfa9e3f42c01dbf795b1ecc0d3f9386dcbc3a9a3cd38519cb1b0d2c7b9f2b84e5f722cdddcd0e03c7aec52"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "cat_nom",
							"value": "Chats",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/add_categorie.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"add_categorie.php"
					]
				},
				"description": "Ajoute une catégorie Chats"
			},
			"response": []
		},
		{
			"name": "Ajouter offre sans date",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "48fb4079-bc7d-4dc6-b979-4dcc9a81135f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "token",
						"value": "1ca6fef085d6f7e6f5988e650978e13dc62e637838e2218eff7962d232121318"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "pre_cat_id",
							"value": "7",
							"description": "",
							"type": "text"
						},
						{
							"key": "pre_ltp_id",
							"value": "1",
							"description": "",
							"type": "text"
						},
						{
							"key": "pre_date_souhaitee_debut",
							"value": "",
							"description": "",
							"type": "text",
							"disabled": true
						},
						{
							"key": "pre_date_souhaitee_fin",
							"value": "",
							"description": "",
							"type": "text",
							"disabled": true
						},
						{
							"key": "pre_date_realisation",
							"value": "",
							"description": "",
							"type": "text",
							"disabled": true
						},
						{
							"key": "pre_description",
							"value": "Vente de chats empaillés",
							"description": "",
							"type": "text"
						},
						{
							"key": "pre_souets",
							"value": "0",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/add_prestation.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"add_prestation.php"
					]
				},
				"description": "Ajoute une offre dans la catégorie 7 (chats) sans aucune date"
			},
			"response": []
		},
		{
			"name": "Ajouter message",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "mes_adh_id_emetteur",
							"value": "3",
							"description": "",
							"type": "text"
						},
						{
							"key": "mes_adh_id_destinataire",
							"value": "2",
							"description": "",
							"type": "text"
						},
						{
							"key": "mes_texte",
							"value": "Bonjour ma meilleure amie",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/add_message.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"add_message.php"
					]
				},
				"description": "Ajoute un message envoyé par l'adhérent 3 (Criquette Rockwell) à l'adhérent 2 (Brenda Montgomery)"
			},
			"response": []
		},
		{
			"name": "Ajouter réponse",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "pre_id",
							"value": "2",
							"description": "",
							"type": "text"
						},
						{
							"key": "adh_id",
							"value": "1",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/add_reponse.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"add_reponse.php"
					]
				},
				"description": "Ajoute une réponse de l'adhérent 1 à la prestation 2"
			},
			"response": []
		},
		{
			"name": "Récupérer prestation",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_prestation.php?pre_id=1",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_prestation.php"
					],
					"query": [
						{
							"key": "pre_id",
							"value": "1",
							"equals": true
						}
					]
				},
				"description": "Retourne les informations d'une prestation"
			},
			"response": []
		},
		{
			"name": "Récupérer les demandes",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost/selest_ws/get_prestations_categorie.php?type=offre",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"get_prestations_categorie.php"
					],
					"query": [
						{
							"key": "type",
							"value": "offre",
							"equals": true
						}
					]
				},
				"description": "Retourne toutes les demandes"
			},
			"response": []
		},
		{
			"name": "S'authentifier (adhérent)",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "identifiant",
							"value": "plop",
							"description": "",
							"type": "text"
						},
						{
							"key": "mot_de_passe",
							"value": "azerty",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/authentification.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"authentification.php"
					]
				},
				"description": "Tente une connexion utilisateur (adhérent, droits normaux) à la base de données, et si elle a fonctionné, renvoie un token à utiliser pour chaque requête"
			},
			"response": []
		},
		{
			"name": "S'authentifier (administrateur)",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "identifiant",
							"value": "master",
							"description": "",
							"type": "text"
						},
						{
							"key": "mot_de_passe",
							"value": "system",
							"description": "",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost/selest_ws/authentification.php",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"path": [
						"selest_ws",
						"authentification.php"
					]
				},
				"description": "Tente une connexion utilisateur (adhérent, droits normaux) à la base de données, et si elle a fonctionné, renvoie un token à utiliser pour chaque requête"
			},
			"response": []
		}
	]
}